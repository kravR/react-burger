(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{118:function(e,t,n){e.exports={section:"styles_section__2dFRU"}},119:function(e,t,n){e.exports={item:"styles_item__35qcz"}},120:function(e,t,n){e.exports={main:"styles_main__3uaNG"}},122:function(e,t,n){e.exports={ingredient:"styles_ingredient__3Udhc"}},123:function(e,t,n){e.exports={"orders-feed":"styles_orders-feed__q7GKK"}},124:function(e,t,n){e.exports={feed:"styles_feed__1HPQl"}},125:function(e,t,n){e.exports={wrapper:"styles_wrapper__3IsHx"}},126:function(e,t,n){e.exports={order:"styles_order__2sS9k"}},127:function(e,t,n){e.exports={history:"styles_history__3EGWl"}},129:function(e,t,n){e.exports={loader:"styles_loader__3QW4r",spinRight:"styles_spinRight__2gydz",spinLeft:"styles_spinLeft__321Nt"}},130:function(e,t,n){e.exports={order:"styles_order__3Z1FK"}},131:function(e,t,n){e.exports={container:"styles_container__2NyAe"}},132:function(e,t,n){e.exports={container:"styles_container__1v5an"}},145:function(e,t,n){},15:function(e,t,n){e.exports={page:"styles_page__3gS0i",menu:"styles_menu__3FJ_j",link:"styles_link__I_QyP",link_active:"styles_link_active__1ykfl",content:"styles_content__D8jUU",form_btns:"styles_form_btns__1EJUE",error:"styles_error__1xW-8",form:"styles_form__1F-3j",active:"styles_active__1_6ND"}},23:function(e,t,n){e.exports={header:"styles_header__25lBf",container:"styles_container__3bzuP",nav:"styles_nav__1MyV5",profile:"styles_profile__1LETK",logo:"styles_logo__3niLp",link:"styles_link__3kaoC",link_active:"styles_link_active__3lTpM"}},232:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(40),i=n.n(a),s=n(5),o=n(48),l=(n(145),n(10)),d=function(){return Object(o.b)()},u=o.c,j=n(237),m=n(134),_=n(11),b=n(4),O=n(13),x=n(9),p=n.n(x),f="https://norma.nomoreparties.space/api",h="orders/all",v="orders",g=n(113),y=n(114),N=n(115),E=n(135),S=n(136),I=function(e){Object(N.a)(n,e);var t=Object(E.a)(n);function n(e,r){var c;return Object(y.a)(this,n),(c=t.call(this,e)).status=void 0,c.status=r,c}return Object(g.a)(n)}(Object(S.a)(Error));function k(e,t,n){return fetch(e,{method:t,headers:{Accept:"application/json","Content-type":"application/json"},body:n}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch(function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",Promise.reject(new I(n.message,t.status)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function T(e,t){return k("".concat(f,"/").concat(e),"POST",JSON.stringify(t))}function C(){return(e="ingredients",k("".concat(f,"/").concat(e),"GET")).then((function(e){return e.data}));var e}var w="GET_INGREDIENTS_REQUEST",R="GET_INGREDIENTS_SUCCESS",L="GET_INGREDIENTS_FAILED",D="INCREASE_INGREDIENT_COUNT",A="DECREASE_INGREDIENT_COUNT",U="CLEAR_BUN_COUNT",F="CLEAR_INGREDIENTS_COUNT",P=function(){return function(e){return e({type:w}),C().then((function(t){return e({type:R,ingredients:t})})).catch((function(){return e({type:L})}))}},G=n(2),z=n(238),M="SELECT_INGREDIENT",B=n(49),q=n.n(B),W=n(0),H=function(e){var t=e.data,n=Object(l.g)(),r=Object(l.h)(),c=d(),a=Object(z.a)({type:"item",item:Object(G.a)({},t),collect:function(e){return{opacity:e.isDragging()?.3:1}}}),i=Object(_.a)(a,2),s=i[0].opacity,o=i[1];return Object(W.jsxs)("article",{className:q.a.card,onClick:function(){return e=null===t||void 0===t?void 0:t._id,c({type:M,ingredient:t}),void n.push({pathname:"ingredients/".concat(e),state:{background:r}});var e},ref:o,style:{opacity:s},children:[Object(W.jsx)("img",{src:null===t||void 0===t?void 0:t.image,alt:null===t||void 0===t?void 0:t.name,className:q.a.card__img}),Object(W.jsxs)("div",{className:"".concat(q.a.card__price," mt-1 mb-1"),children:[Object(W.jsx)("span",{className:"text text_type_digits-default mr-1",children:null===t||void 0===t?void 0:t.price}),Object(W.jsx)(b.CurrencyIcon,{type:"primary"})]}),Object(W.jsx)("h3",{className:"".concat(q.a.card__title," text text_type_main-default"),children:null===t||void 0===t?void 0:t.name}),!(null===t||void 0===t||!t.qty)&&t.qty>0&&Object(W.jsx)(b.Counter,{count:null===t||void 0===t?void 0:t.qty,size:"default"})]})},J=n(118),Q=n.n(J),K=Object(r.forwardRef)((function(e,t){var n=e.title,r=e.data;return Object(W.jsxs)(W.Fragment,{children:[n&&Object(W.jsx)("h3",{className:"text text_type_main-medium pb-6",ref:t,children:n}),r&&Object(W.jsx)("div",{className:"".concat(Q.a.section," pt-6 pr-2 pb-6 pl-4"),children:r.map((function(e){return Object(W.jsx)(H,{data:e},e._id)}))})]})})),Z=n(62),V=n.n(Z),X=function(){var e=Object(r.useState)("bun"),t=Object(_.a)(e,2),n=t[0],c=t[1],a=u((function(e){return e.ingredients})),i=a.isLoading,s=a.isError,o=a.ingredients,l=d(),j=Object(r.useMemo)((function(){return null===o||void 0===o?void 0:o.filter((function(e){return"bun"===e.type}))}),[o]),m=Object(r.useMemo)((function(){return null===o||void 0===o?void 0:o.filter((function(e){return"sauce"===e.type}))}),[o]),O=Object(r.useMemo)((function(){return null===o||void 0===o?void 0:o.filter((function(e){return"main"===e.type}))}),[o]),x=[{id:"bun",title:"\u0411\u0443\u043b\u043a\u0438",refToSection:Object(r.useRef)(null),data:j},{id:"sauce",title:"\u0421\u043e\u0443\u0441\u044b",refToSection:Object(r.useRef)(null),data:m},{id:"main",title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",refToSection:Object(r.useRef)(null),data:O}],p=function(e){return function(){c(e.id)}};return Object(r.useEffect)((function(){var e=x.find((function(e){return e.id===n}));e&&null!==e.refToSection.current&&e.refToSection.current.scrollIntoView({behavior:"smooth"})})),Object(r.useEffect)((function(){l(P())}),[l]),i?Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"...\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):s?Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"}):Object(W.jsxs)("div",{className:V.a.ingredients,children:[Object(W.jsx)("div",{className:"".concat(V.a.ingredients__tabs," mb-10"),children:x.map((function(e){return Object(W.jsx)(b.Tab,{value:e.title,active:e.id===n,onClick:p(e),children:e.title},e.id)}))}),Object(W.jsx)("div",{className:"".concat(V.a.ingredients__content," scrollbar"),children:x.map((function(e){return Object(W.jsx)(K,{title:e.title,data:e.data,ref:e.refToSection},e.id)}))})]})},Y=n(239),$="ADD_BUN",ee="DELETE_BUN",te="ADD_INGREDIENT",ne="DELETE_INGREDIENT",re="SORT_INGREDIENTS",ce="RESET_CONSTRUCTOR",ae=n(119),ie=n.n(ae),se=function(e){var t=e.index,n=e.item,c=d(),a=Object(r.useRef)(null),i=Object(z.a)({type:"itemBurger",item:{index:t},collect:function(e){return{isDragging:e.isDragging()}}}),s=Object(_.a)(i,2),o=s[0].isDragging,l=s[1],u=Object(Y.a)({accept:"itemBurger",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,n){if(a.current){var r=e.index,i=t;if(r!==i){var s=a.current.getBoundingClientRect(),o=(s.bottom-s.top)/2,l=n.getClientOffset();if(null!==l){var d=l.y-s.top;r<i&&d<o||r>i&&d>o||(c({type:re,dragIndex:r,hoverIndex:i}),e.index=i)}}}}}),j=Object(_.a)(u,2),m=j[0].handlerId;l((0,j[1])(a));var O=o?.5:1;return Object(W.jsxs)("div",{className:"".concat(ie.a.item," ml-2 mb-4"),style:{opacity:O},ref:a,"data-handler-id":m,children:[Object(W.jsx)(b.DragIcon,{type:"primary"}),Object(W.jsx)(b.ConstructorElement,{text:null===n||void 0===n?void 0:n.name,thumbnail:null!==n&&void 0!==n&&n.image_mobile?null===n||void 0===n?void 0:n.image_mobile:"",price:null===n||void 0===n?void 0:n.price,handleClose:function(){c({type:ne,id:n.uuid}),c({type:A,id:n._id,qty:1})}})]})};function oe(e,t,n){return fetch(e,{method:t,headers:{Accept:"application/json","Content-type":"application/json",Authorization:"".concat(localStorage.getItem("accessToken"))},body:n}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch(function(){var r=Object(O.a)(p.a.mark((function r(c){var a,i;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.json().then((function(e){return e}));case 2:if("jwt expired"!==(a=r.sent).message){r.next=7;break}return(i=oe).refreshPromise||(i.refreshPromise=T("auth/token",{token:localStorage.getItem("refreshToken")}).then((function(e){localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("accessToken",e.accessToken)})).catch((function(){localStorage.removeItem("refreshToken"),localStorage.removeItem("accessToken")})).then((function(e){return delete i.refreshPromise,e}))),r.abrupt("return",i.refreshPromise.then((function(){return oe(e,t,n)})));case 7:return r.abrupt("return",Promise.reject(new I(a.message,c.status)));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}function le(e){return(t="orders",n=e,oe("".concat(f,"/").concat(t),"POST",JSON.stringify(n))).then((function(e){return e.order}));var t,n}var de,ue="CREATE_ORDER_REQUEST",je="CREATE_ORDER_SUCCESS",me="CREATE_ORDER_FAILED",_e="CLOSE_ORDER_MODAL",be="SET_ORDER_ITEMS",Oe="SELECT_ORDER",xe=n(30),pe=n.n(xe),fe=function(){var e=Object(l.g)(),t=d(),n=Object(l.h)(),c=u((function(e){return e.auth})),a=c.isAuthorized,i=u((function(e){return e.burger})),s=i.bun,o=i.filling,j=u((function(e){return e.order})),m=j.ingredients,O=o.reduce((function(e,t){return e+t.price}),0);s&&(O+=2*s.price);var x=Object(Y.a)({accept:"item",collect:function(e){return{isHover:e.isOver()}},drop:function(e){var n;"bun"===(n=e).type?(t({type:U}),t({type:$,bun:n}),t({type:D,id:n._id,qty:2})):(t({type:te,item:n}),t({type:D,id:n._id,qty:1}))}}),p=Object(_.a)(x,2),f=p[0].isHover,h=p[1],v=f?"#2f2f37":"transparent";return Object(r.useEffect)((function(){var e=o.map((function(e){return e._id}));s&&e.push(s._id),t({type:be,order:e})}),[t,o,s]),Object(W.jsxs)("div",{className:"".concat(pe.a.constructor," pl-4"),id:"constructor",children:[Object(W.jsx)("div",{className:"".concat(pe.a.constructor__items," mb-10"),style:{border:"1px dashed ".concat(v),borderRadius:"50px"},ref:h,children:s||o.length>0?Object(W.jsxs)(W.Fragment,{children:[s?Object(W.jsx)("div",{className:"".concat(pe.a.constructor__item," ml-8 mb-4"),children:Object(W.jsx)(b.ConstructorElement,{type:"top",isLocked:!0,price:null===s||void 0===s?void 0:s.price,text:"".concat(null===s||void 0===s?void 0:s.name," (\u0432\u0435\u0440\u0445)"),thumbnail:null!==s&&void 0!==s&&s.image_mobile?null===s||void 0===s?void 0:s.image_mobile:""})}):Object(W.jsx)("div",{className:"ml-2 mb-4 pt-2 pb-2 text",style:{textAlign:"center"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0443\u043b\u043e\u0447\u043a\u0443"}),Object(W.jsx)("div",{className:"".concat(pe.a["constructor__items-inner"]," pr-2 scrollbar"),children:o.length>0?null===o||void 0===o?void 0:o.map((function(e,t){return Object(W.jsx)(se,{item:e,index:t},t)})):Object(W.jsx)("div",{className:"ml-2 mb-4 pt-2 pb-2 text",style:{textAlign:"center"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})}),s?Object(W.jsx)("div",{className:"".concat(pe.a.constructor__item," ml-8"),children:Object(W.jsx)(b.ConstructorElement,{type:"bottom",isLocked:!0,price:null===s||void 0===s?void 0:s.price,text:"".concat(null===s||void 0===s?void 0:s.name," (\u043d\u0438\u0437)"),thumbnail:null!==s&&void 0!==s&&s.image_mobile?null===s||void 0===s?void 0:s.image_mobile:""})},null===s||void 0===s?void 0:s._id):Object(W.jsx)("div",{className:"ml-2 mb-4 pt-2 pb-2 text",style:{textAlign:"center"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0443\u043b\u043e\u0447\u043a\u0443"})]}):Object(W.jsx)("div",{className:"ml-2 mb-4 pt-2 pb-2 text",style:{textAlign:"center"},children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438 \u0441\u044e\u0434\u0430 \u0438\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \u0438 \u0441\u043e\u0431\u0435\u0440\u0438 \u0431\u0443\u0440\u0433\u0435\u0440"})}),(s||o.length>0)&&Object(W.jsxs)("div",{className:"".concat(pe.a.constructor__bottom," pr-4"),children:[Object(W.jsxs)("div",{className:"".concat(pe.a.constructor__cost," mr-10"),children:[Object(W.jsx)("span",{className:"text text_type_digits-medium mr-2",children:O}),Object(W.jsx)(b.CurrencyIcon,{type:"primary"})]}),Object(W.jsx)(b.Button,Object(G.a)(Object(G.a)({type:"primary",size:"large"},s&&{onClick:function(){var r;a?(t({type:_e}),t((r={ingredients:m},function(e){return e({type:ue}),le(r).then((function(t){return e({type:je,number:t.number})})).catch((function(){return e({type:me})}))})),e.push({pathname:"/create-order",state:{background:n}}),t({type:ce}),t({type:F})):e.push("/login")}}),{},{children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}))]})]})},he=n(120),ve=n.n(he),ge=function(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(W.jsx)("div",{className:ve.a.main,children:Object(W.jsxs)(j.a,{backend:m.a,children:[Object(W.jsx)(X,{}),Object(W.jsx)(fe,{})]})})]})},ye=n(31),Ne=n.n(ye),Ee=function(){var e,t=u((function(e){return e.ingredient})),n=t.ingredient,r=void 0===n?null:n;return Object(W.jsx)("div",{className:Ne.a.ingredient,children:r&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("img",{className:"".concat(Ne.a.ingredient__image," mb-4"),src:null!==(e=null===r||void 0===r?void 0:r.image_large)&&void 0!==e?e:"",alt:null===r||void 0===r?void 0:r.name,width:"480px",height:"240px"}),Object(W.jsx)("h3",{className:"text text_type_main-medium mb-8",children:null===r||void 0===r?void 0:r.name}),Object(W.jsxs)("div",{className:Ne.a.ingredient__items,children:[Object(W.jsxs)("div",{className:"".concat(Ne.a.ingredient__item," mr-5"),children:[Object(W.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(W.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:null===r||void 0===r?void 0:r.calories})]}),Object(W.jsxs)("div",{className:"".concat(Ne.a.ingredient__item," mr-5"),children:[Object(W.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(W.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:null===r||void 0===r?void 0:r.proteins})]}),Object(W.jsxs)("div",{className:"".concat(Ne.a.ingredient__item," mr-5"),children:[Object(W.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(W.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:null===r||void 0===r?void 0:r.fat})]}),Object(W.jsxs)("div",{className:Ne.a.ingredient__item,children:[Object(W.jsx)("span",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(W.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:null===r||void 0===r?void 0:r.carbohydrates})]})]})]})})},Se=n(122),Ie=n.n(Se),ke=function(){var e=d(),t=u((function(e){return e.ingredients})),n=t.ingredients,c=Object(l.i)().ingredientId;return Object(r.useEffect)((function(){e({type:M,ingredient:n.find((function(e){return e._id===c}))})}),[e,n,c]),Object(W.jsxs)("div",{className:Ie.a.ingredient,children:[Object(W.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(W.jsx)(Ee,{})]})},Te="WS_CONNECTION_START",Ce="WS_CONNECTION_SUCCESS",we="WS_CONNECTION_ERROR",Re="WS_CONNECTION_CLOSED",Le="WS_GET_MESSAGE";!function(e){e.DONE="done",e.PENDING="pending",e.CREATEDCrea="created",e.CANCEL="cancel"}(de||(de={}));var De=function(e){for(var t,n=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}),r=[{amount:60,name:"minutes"},{amount:24,name:"hours"},{amount:7,name:"days"},{amount:4.34524,name:"weeks"},{amount:12,name:"months"},{amount:Number.POSITIVE_INFINITY,name:"years"}],c=new Date(e),a=c.getHours(),i=c.getMinutes(),s=-c.getTimezoneOffset()/60,o=(c.getTime()-(new Date).getTime())/6e4,l=0;l<=r.length;l++){var d=r[l];if(Math.abs(o)<d.amount)return n.format(Math.round(o),d.name)+", "+a+":"+i+" i-GMT"+(t=s,new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}).format(t));o/=d.amount}},Ae=n(90),Ue=n.n(Ae),Fe=function(e){var t=e.image,n=void 0===t?"":t,r=e.alt,c=void 0===r?"":r;return Object(W.jsx)("div",{className:Ue.a.avatar,children:Object(W.jsx)("img",{src:n,alt:c,className:Ue.a.img})})},Pe=n(41),Ge=n.n(Pe),ze=function(e){var t,n,r,c=e.items,a=e.max;return Object(W.jsxs)("div",{className:Ge.a.avatars,children:[c&&c.length>a&&Object(W.jsxs)("div",{className:Ge.a["avatar-wrap"],children:[Object(W.jsx)("div",{className:Ge.a.bg}),Object(W.jsx)(Fe,{image:null===(n=c[c.length-a])||void 0===n?void 0:n.image_mobile,alt:null===(r=c[c.length-a])||void 0===r?void 0:r.name}),Object(W.jsx)("span",{className:"".concat(Ge.a.more," text text_type_digits-default"),children:"+".concat(c.length-a)})]},null===(t=c[c.length-a])||void 0===t?void 0:t._id),c&&c.slice(0,a).map((function(e){return Object(W.jsx)("div",{className:Ge.a["avatar-wrap"],children:Object(W.jsx)(Fe,{image:null===e||void 0===e?void 0:e.image_mobile,alt:null===e||void 0===e?void 0:e.name})},null===e||void 0===e?void 0:e._id)}))]})},Me=n(36),Be=n.n(Me),qe=function(e){var t=e.order,n=e.isUserOrder,c=void 0!==n&&n,a=Object(l.j)().url,i=Object(l.g)(),s=Object(l.h)(),o=d(),j=u((function(e){return e.ingredients})),m=j.ingredients,_=Array.from(new Set(t.ingredients)).filter(Boolean),O=Object(r.useMemo)((function(){return _.map((function(e){return m.find((function(t){return t._id===e}))}))}),[m,_]),x=O.reduce((function(e,t){return t&&"bun"===t.type?e+=2*t.price:t&&(e+=t.price),e}),0);return Object(W.jsxs)("article",{onClick:function(){return e=null===t||void 0===t?void 0:t._id,o({type:Oe,order:t}),void i.push({pathname:"".concat(a,"/").concat(e),state:{background:s}});var e},className:"".concat(Be.a.order," mb-6"),children:[Object(W.jsxs)("div",{className:"".concat(Be.a.info," mb-6"),children:[Object(W.jsxs)("span",{className:"text text_type_digits-default",children:["#",t.number]}),Object(W.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:De(t.createdAt)})]}),Object(W.jsx)("h3",{className:"text text_type_main-medium mb-6",children:t.name}),t.status&&c&&Object(W.jsxs)("div",{className:"".concat(Be.a.status," text text_type_main-default mb-6"),children:["done"===t.status&&Object(W.jsx)("span",{className:Be.a.status_done,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}),"pending"===t.status&&Object(W.jsx)("span",{children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),"\u0441reated"===t.status&&Object(W.jsx)("span",{children:"\u0421\u043e\u0437\u0434\u0430\u043d"})]}),Object(W.jsxs)("div",{className:Be.a.details,children:[O&&O.length&&Object(W.jsx)(ze,{items:O,max:5}),Object(W.jsxs)("div",{className:Be.a.price,children:[Object(W.jsx)("span",{className:"text text_type_digits-default mr-2",children:x}),Object(W.jsx)(b.CurrencyIcon,{type:"primary"})]})]})]})},We=n(123),He=n.n(We),Je=function(e){var t=e.orders,n=e.isUserOrder,r=void 0!==n&&n;return Object(W.jsx)("div",{className:"".concat(He.a["orders-feed"]," scrollbar"),children:t.map((function(e){return Object(W.jsx)(qe,{order:e,isUserOrder:r},e.number)}))})},Qe=n(37),Ke=n.n(Qe),Ze=function(e){var t=e.ordersReady,n=void 0===t?[]:t,r=e.ordersInProgress,c=void 0===r?[]:r,a=e.total,i=e.totalToday;return Object(W.jsxs)("div",{className:Ke.a.summary,children:[Object(W.jsxs)("div",{className:Ke.a.orders,children:[n.length>0&&Object(W.jsxs)("div",{className:Ke.a["orders-in-progress"],children:[Object(W.jsx)("div",{className:"text text_type_main-medium",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),n.map((function(e){return"done"===e.status&&Object(W.jsx)("div",{className:"text text_type_digits-default mb-2",children:e.number},e._id)}))]}),Object(W.jsxs)("div",{className:Ke.a["orders-in-done"],children:[Object(W.jsx)("div",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),c.length>0?c.map((function(e){return"pending"===e.status&&Object(W.jsx)("div",{className:"text text_type_digits-default mb-2",children:e.number},e.number)})):"\u043d\u0435\u0442 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"]})]}),Object(W.jsx)("div",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(W.jsx)("div",{className:"".concat(Ke.a["text-shadow"]," text text_type_digits-large mb-15"),children:a}),Object(W.jsx)("div",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(W.jsx)("div",{className:"".concat(Ke.a["text-shadow"]," text text_type_digits-large"),children:i})]})},Ve=n(124),Xe=n.n(Ve),Ye=function(){var e=d(),t=u((function(e){return e.ordersFeed})),n=t.wsError,c=t.wsConnected,a=t.orders,i=t.total,s=t.totalToday,o=Object(r.useMemo)((function(){return a}),[a]),l=Object(r.useMemo)((function(){return a.filter((function(e){return e.status===de.DONE})).slice(0,10)}),[a]),j=Object(r.useMemo)((function(){return a.filter((function(e){return e.status===de.PENDING})).slice(0,10)}),[a]);return Object(r.useEffect)((function(){return e({type:Te,payload:h}),function(){e({type:Re})}}),[e]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(W.jsxs)("div",{className:Xe.a.feed,children:[!n&&c&&0===a.length&&Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"...\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),!n&&c&&a&&a.length>0&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Je,{orders:o}),Object(W.jsx)(Ze,{ordersReady:l,ordersInProgress:j,total:i,totalToday:s})]}),n&&Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435."})]})]})},$e=n(21),et=n(125),tt=n.n(et),nt=function(e){return Object(W.jsx)("form",Object(G.a)(Object(G.a)({},e),{},{className:tt.a.wrapper}))};function rt(){return(e="auth/user",oe("".concat(f,"/").concat(e),"GET")).then((function(e){return e.user}));var e}function ct(e){return(t="auth/user",n=e,oe("".concat(f,"/").concat(t),"PATCH",JSON.stringify(n))).then((function(e){return e.user}));var t,n}var at="LOGIN_REQUEST",it="LOGIN_SUCCESS",st="LOGIN_FAILED",ot="LOGOUT_REQUEST",lt="LOGOUT_SUCCESS",dt="LOGOUT_FAILED",ut="REGISTRATION_USER_REQUEST",jt="REGISTRATION_USER_SUCCESS",mt="REGISTRATION_USER_FAILED",_t="USER_REQUEST",bt="USER_SUCCESS",Ot="USER_FAILED",xt="FORGOT_PASSWORD_REQUEST",pt="FORGOT_PASSWORD_SUCCESS",ft="FORGOT_PASSWORD_FAILED",ht="RESET_PASSWORD_REQUEST",vt="RESET_PASSWORD_SUCCESS",gt="RESET_PASSWORD_FAILED",yt="UPDATE_TOKEN_REQUEST",Nt="UPDATE_TOKEN_SUCCESS",Et="UPDATE_TOKEN_FAILED",St=function(e){return function(t){return t({type:ut}),(n=e,T("auth/register",n).then((function(e){return localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("accessToken",e.accessToken),e.user}))).then((function(e){return t({type:jt,user:e})})).catch((function(e){return t({type:mt,error:e})}));var n}},It=function(e){return function(t){return t({type:at}),(n=e,T("auth/login",n).then((function(e){return localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("accessToken",e.accessToken),e.user}))).then((function(e){return t({type:it,user:e})})).catch((function(e){return t({type:st,error:e})}));var n}},kt=function(){return function(e){return e({type:ot}),function(){var e;return T("auth/logout",{token:null!==(e=localStorage.getItem("refreshToken"))&&void 0!==e?e:""}).then((function(){localStorage.removeItem("refreshToken"),localStorage.removeItem("accessToken")}))}().then((function(){return e({type:lt})})).catch((function(){return e({type:dt})}))}},Tt=function(e){return function(t){return t({type:xt}),(n=e,T("password-reset",n)).then((function(){return t({type:pt})})).catch((function(){return t({type:ft})}));var n}},Ct=function(e){return function(t){return t({type:ht}),(n=e,T("password-reset/reset",n)).then((function(){return t({type:vt})})).catch((function(){return t({type:gt})}));var n}},wt=function(e){return function(t){return t({type:_t}),ct(e).then((function(e){return t({type:bt,user:e})})).catch((function(e){return t({type:Ot,error:e})}))}},Rt=n(38),Lt=n.n(Rt),Dt=function(){var e=Object(l.h)().state,t=d(),n=u((function(e){return e.auth})),c=n.isAuthorized,a=n.isError,i=n.error,o=Object(r.useState)({email:"",password:""}),j=Object(_.a)(o,2),m=j[0],x=j[1],f=function(e){x((function(t){return Object(G.a)(Object(G.a)({},t),{},Object($e.a)({},e.target.name,e.target.value))}))},h=function(){var e=Object(O.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(It(m));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(W.jsx)(l.a,{to:(null===e||void 0===e?void 0:e.from)||"/"}):Object(W.jsxs)("div",{className:Lt.a.page,children:[Object(W.jsx)("h3",{className:"text text_type_main-medium mb-6",children:"\u0412\u0445\u043e\u0434"}),Object(W.jsxs)(nt,{onSubmit:h,children:[Object(W.jsx)(b.Input,{type:"email",placeholder:"E-mail",name:"email",value:m.email,onChange:f}),Object(W.jsx)(b.PasswordInput,{name:"password",value:m.password,onChange:f}),Object(W.jsx)(b.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),a&&Object(W.jsx)("p",{className:"".concat(Lt.a.error," text text_type_main-default mt-6"),children:null===i||void 0===i?void 0:i.message}),Object(W.jsxs)("div",{className:"".concat(Lt.a.links," mt-20 mb-4"),children:[Object(W.jsx)("p",{className:"text text_type_main-default text_color_inactive mr-1",children:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(W.jsx)(s.b,{to:"/register",className:"".concat(Lt.a.link," text text_type_main-default"),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(W.jsxs)("div",{className:Lt.a.links,children:[Object(W.jsx)("p",{className:"text text_type_main-default text_color_inactive mr-1",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(W.jsx)(s.b,{to:"/forgot-password",className:"".concat(Lt.a.link," text text_type_main-default"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})};var At=n(26),Ut=n.n(At),Ft=function(){var e=u((function(e){return e.order})),t=e.order,n=void 0===t?null:t,c=u((function(e){return e.ingredients})),a=c.ingredients,i=Object(r.useMemo)((function(){return null===n||void 0===n?void 0:n.ingredients.map((function(e){return a.find((function(t){return t._id===e}))}))}),[a,null===n||void 0===n?void 0:n.ingredients]),s=Object(r.useMemo)((function(){return Array.from(new Set(null===n||void 0===n?void 0:n.ingredients)).filter(Boolean).map((function(e){return a.find((function(t){return t._id===e}))}))}),[a,null===n||void 0===n?void 0:n.ingredients]),o=Object(r.useMemo)((function(){return null===i||void 0===i?void 0:i.reduce((function(e,t){return t&&"bun"===t.type?e+=t&&2*t.price:t&&(e+=t&&t.price),e}),0)}),[i]),l=function(e){var t=new Map;for(var n in e)t.has(e[n])?t.set(e[n],t.get(e[n])+1):t.set(e[n],1);return t}(null===n||void 0===n?void 0:n.ingredients);return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"".concat(Ut.a.feed),children:[Object(W.jsxs)("div",{className:"text text_type_digits-default ".concat(Ut.a.title),children:["#",null===n||void 0===n?void 0:n.number]}),Object(W.jsx)("div",{className:"text text_type_main-medium  mt-10",children:null===n||void 0===n?void 0:n.name}),(null===n||void 0===n?void 0:n.status)&&Object(W.jsxs)("div",{className:"".concat(Ut.a.status," ").concat("done"===(null===n||void 0===n?void 0:n.status)&&Ut.a.status_done,"  text text_type_main-default"),children:["done"===(null===n||void 0===n?void 0:n.status)&&Object(W.jsx)(W.Fragment,{children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}),"pending"===(null===n||void 0===n?void 0:n.status)&&Object(W.jsx)(W.Fragment,{children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),"\u0441reated"===(null===n||void 0===n?void 0:n.status)&&Object(W.jsx)(W.Fragment,{children:"\u0421\u043e\u0437\u0434\u0430\u043d"})]}),Object(W.jsx)("div",{className:"text text_type_main-medium mt-15 mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(W.jsx)("div",{className:"".concat(Ut.a.ingredients," custom-scroll"),children:s&&s.map((function(e,t){var n;return Object(W.jsxs)("div",{className:"".concat(Ut.a.ingredient),children:[Object(W.jsxs)("div",{className:"".concat(Ut.a.ingredient__info),children:[Object(W.jsx)(Fe,{image:null===e||void 0===e?void 0:e.image_mobile,alt:null===e||void 0===e?void 0:e.name}),Object(W.jsx)("p",{className:"text text_type_main-default ml-4",children:null===e||void 0===e?void 0:e.name})]}),Object(W.jsxs)("div",{className:"".concat(Ut.a.ingredient__price),children:[Object(W.jsxs)("span",{className:"text text_type_digits-default mr-2",children:["bun"===(null===e||void 0===e?void 0:e.type)?2:null!==(n=l.get(null===e||void 0===e?void 0:e._id))&&void 0!==n?n:""," x ",null===e||void 0===e?void 0:e.price]}),Object(W.jsx)(b.CurrencyIcon,{type:"primary"})]})]},t)}))}),Object(W.jsxs)("div",{className:"".concat(Ut.a.feed__footer),children:[Object(W.jsx)("div",{className:"text text_type_main-default ml-4 text_color_inactive",children:(null===n||void 0===n?void 0:n.createdAt)&&De(null===n||void 0===n?void 0:n.createdAt)}),Object(W.jsxs)("div",{className:"total__".concat(Ut.a.ingredient__price),children:[Object(W.jsx)("span",{className:"text text_type_digits-default mr-2",children:o}),Object(W.jsx)(b.CurrencyIcon,{type:"primary"})]})]})]})})},Pt=n(126),Gt=n.n(Pt),zt=function(e){var t=e.isUserOrder,n=d(),c=u((function(e){return e.ordersFeed})),a=c.wsConnected,i=c.wsError,s=c.orders,o=Object(l.i)().orderId;return Object(r.useEffect)((function(){var e,r=null===(e=localStorage.getItem("accessToken"))||void 0===e?void 0:e.replace("Bearer ","").trim();return n({type:Te,payload:t?"".concat(v,"?token=").concat(r):h}),function(){n({type:Re})}}),[n,t]),Object(r.useEffect)((function(){n({type:Oe,order:s.find((function(e){return e._id===o}))})}),[n,s,o]),Object(W.jsxs)("div",{className:Gt.a.order,children:[!i&&a&&0===s.length&&Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"...\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),!i&&a&&s&&s.length>0&&Object(W.jsx)(Ft,{}),i&&Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435."})]})},Mt=n(50),Bt=n.n(Mt),qt=function(){var e=d(),t=u((function(e){return e.auth})),n=t.isAuthorized,c=t.isError,a=t.error,i=Object(r.useState)({name:"",email:"",password:""}),o=Object(_.a)(i,2),j=o[0],m=o[1],x=function(e){m((function(t){return Object(G.a)(Object(G.a)({},t),{},Object($e.a)({},e.target.name,e.target.value))}))},f=function(){var t=Object(O.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e(St(j));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return n?Object(W.jsx)(l.a,{to:{pathname:"/"}}):Object(W.jsxs)("div",{className:Bt.a.page,children:[Object(W.jsx)("h3",{className:"text text_type_main-medium mb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(W.jsxs)(nt,{onSubmit:f,children:[Object(W.jsx)(b.Input,{placeholder:"\u0418\u043c\u044f",name:"name",value:j.name,onChange:x}),Object(W.jsx)(b.Input,{type:"email",placeholder:"E-mail",name:"email",value:j.email,onChange:x}),Object(W.jsx)(b.PasswordInput,{name:"password",value:j.password,onChange:x}),Object(W.jsx)(b.Button,{type:"primary",size:"medium",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),c&&Object(W.jsx)("p",{className:"".concat(Bt.a.error," text text_type_main-default mt-6"),children:null===a||void 0===a?void 0:a.message}),Object(W.jsxs)("div",{className:"".concat(Bt.a.links," mt-20 mb-4"),children:[Object(W.jsx)("p",{className:"text text_type_main-default text_color_inactive mr-1",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(W.jsx)(s.b,{to:"/login",className:"".concat(Bt.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Wt=n(63),Ht=n.n(Wt),Jt=function(){var e=Object(l.g)(),t=Object(l.h)(),n=d(),c=u((function(e){return e.auth})),a=c.isAuthorized,i=Object(r.useState)({email:""}),o=Object(_.a)(i,2),j=o[0],m=o[1],x=function(){var r=Object(O.a)(p.a.mark((function r(c){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.next=3,n(Tt(j));case 3:e.replace({pathname:"/reset-password",state:{from:t}});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return a?Object(W.jsx)(l.a,{to:{pathname:"/"}}):Object(W.jsxs)("div",{className:Ht.a.page,children:[Object(W.jsx)("h3",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(W.jsxs)(nt,{onSubmit:x,children:[Object(W.jsx)(b.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",name:"email",value:j.email,onChange:function(e){m((function(t){return Object(G.a)(Object(G.a)({},t),{},Object($e.a)({},e.target.name,e.target.value))}))}}),Object(W.jsx)(b.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(W.jsxs)("div",{className:"".concat(Ht.a.links," mt-20"),children:[Object(W.jsx)("p",{className:"text text_type_main-default text_color_inactive mr-1",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(W.jsx)(s.b,{to:"/login",className:"".concat(Ht.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Qt=n(64),Kt=n.n(Qt),Zt=function(){var e=Object(l.h)().state,t=Object(l.g)(),n=d(),c=u((function(e){return e.auth})),a=c.isAuthorized,i=c.isReset,o=Object(r.useState)(!1),j=Object(_.a)(o,2),m=j[0],x=j[1],f=Object(r.useRef)(null),h=Object(r.useState)({password:"",token:""}),v=Object(_.a)(h,2),g=v[0],y=v[1],N=function(e){y((function(t){return Object(G.a)(Object(G.a)({},t),{},Object($e.a)({},e.target.name,e.target.value))}))},E=function(){var e=Object(O.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,n(Ct(g));case 3:t.replace({pathname:"/login"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f&&f.current&&(f.current.selectionStart=f.current.value.length,f.current.selectionEnd=f.current.value.length)}),[m]),a?Object(W.jsx)(l.a,{to:(null===e||void 0===e?void 0:e.from)||"/"}):i?Object(W.jsxs)("div",{className:Kt.a.page,children:[Object(W.jsx)("h3",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(W.jsxs)(nt,{onSubmit:E,children:[Object(W.jsx)(b.Input,{type:m?"text":"password",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",icon:m?"HideIcon":"ShowIcon",ref:f,value:g.password,onChange:N,onIconClick:function(){return e=f,x(!m),void e.current.focus();var e}}),Object(W.jsx)(b.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",name:"token",value:g.token,onChange:N}),Object(W.jsx)(b.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(W.jsxs)("div",{className:"".concat(Kt.a.links," mt-20"),children:[Object(W.jsx)("p",{className:"text text_type_main-default text_color_inactive mr-1",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(W.jsx)(s.b,{to:"/login",className:"".concat(Kt.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(W.jsx)(l.a,{to:(null===e||void 0===e?void 0:e.from)||"/forgot-password"})},Vt=n(15),Xt=n.n(Vt),Yt=function(){var e,t,n=d(),c=Object(r.useRef)(null),a=Object(r.useRef)(null),i=Object(r.useRef)(null),s=function(e){return e.current.classList.add("".concat(Xt.a.active))},o=function(e){return e.current.classList.remove("".concat(Xt.a.active))},l=function(e){return e.current.focus()},j=u((function(e){return e.auth})),m=j.isLoading,x=j.isError,f=j.user,h=j.error,v=Object(r.useState)({name:null!==(e=null===f||void 0===f?void 0:f.name)&&void 0!==e?e:"",email:null!==(t=null===f||void 0===f?void 0:f.email)&&void 0!==t?t:"",password:""}),g=Object(_.a)(v,2),y=g[0],N=g[1],E=function(e){e.preventDefault(),N((function(t){return Object(G.a)(Object(G.a)({},t),{},Object($e.a)({},e.target.name,e.target.value))}))},S=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n(wt(y));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e,t;f&&N({name:null!==(e=null===f||void 0===f?void 0:f.name)&&void 0!==e?e:"",email:null!==(t=null===f||void 0===f?void 0:f.email)&&void 0!==t?t:"",password:""})}),[f,N]),Object(W.jsx)(W.Fragment,{children:m?Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"...\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):Object(W.jsx)("div",{className:Xt.a.form,children:Object(W.jsxs)(nt,{onSubmit:S,children:[Object(W.jsx)(b.Input,{type:"text",name:"name",placeholder:"\u0418\u043c\u044f",icon:"EditIcon",ref:c,value:y.name,onChange:E,onFocus:function(){return s(c)},onBlur:function(){return o(c)},onIconClick:function(){return l(c)}}),Object(W.jsx)(b.Input,{type:"email",name:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",icon:"EditIcon",ref:a,value:y.email,onChange:E,onFocus:function(){return s(a)},onBlur:function(){return o(a)},onIconClick:function(){return l(a)}}),Object(W.jsx)(b.Input,{type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:"EditIcon",ref:i,value:y.password,onChange:E,onFocus:function(){return s(i)},onBlur:function(){return o(i)},onIconClick:function(){return l(i)}}),x&&Object(W.jsx)("p",{className:"".concat(Xt.a.error," text text_type_main-default my-4"),children:null===h||void 0===h?void 0:h.message}),(y.email||y.password||y.name)&&Object(W.jsxs)("div",{className:Xt.a.form_btns,children:[Object(W.jsx)(b.Button,{type:"secondary",size:"medium",onClick:function(){var e,t;N({name:null!==(e=null===f||void 0===f?void 0:f.name)&&void 0!==e?e:"",email:null!==(t=null===f||void 0===f?void 0:f.email)&&void 0!==t?t:"",password:""})},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(W.jsx)(b.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})})},$t=function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()},en=n(127),tn=n.n(en),nn=function(){var e=d(),t=u((function(e){return e.ordersFeed})),n=t.wsError,c=t.wsConnected,a=t.orders,i=Object(r.useMemo)((function(){return a.sort($t)}),[a]);return Object(r.useEffect)((function(){var t,n=null===(t=localStorage.getItem("accessToken"))||void 0===t?void 0:t.replace("Bearer ","").trim();return e({type:Te,payload:"".concat(v,"?token=").concat(n)}),function(){e({type:Re})}}),[e]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("h3",{className:"text text_type_main-medium mb-6",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(W.jsxs)("div",{className:tn.a.history,children:[!n&&c&&0===a.length&&Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"...\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),!n&&c&&a&&a.length>0&&Object(W.jsx)(Je,{orders:i,isUserOrder:!0}),n&&Object(W.jsx)("h3",{className:"text text_type_main-default mt-10 mb-5",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435."})]})]})},rn=Object(r.memo)((function(){var e=Object(l.j)().path,t=Object(l.g)(),n=Object(l.h)(),c=d(),a="PUSH"===t.action&&n.state&&n.state.background,i=function(){var e=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(kt());case 2:t.replace({pathname:"/login"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){c((function(e){return e({type:_t}),rt().then((function(t){return e({type:bt,user:t})})).catch((function(t){return e({type:Ot,error:t})}))}))}),[c]),Object(W.jsxs)("div",{className:Xt.a.page,children:[Object(W.jsxs)("div",{className:Xt.a.menu,children:[Object(W.jsx)(s.c,{exact:!0,to:"/profile",activeClassName:Xt.a.link_active,className:"".concat(Xt.a.link," text text_type_main-medium"),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(W.jsx)(s.c,{exact:!0,to:"/profile/orders",activeClassName:Xt.a.link_active,className:"".concat(Xt.a.link," text text_type_main-medium"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(W.jsx)("div",{className:"".concat(Xt.a.link," text text_type_main-medium"),onClick:i,children:"\u0412\u044b\u0445\u043e\u0434"}),Object(W.jsxs)("div",{className:"text text_type_main-default text_color_inactive mt-20",children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435",Object(W.jsx)("br",{}),"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"]})]}),Object(W.jsx)("div",{className:Xt.a.content,children:Object(W.jsxs)(l.d,{location:a||n,children:[Object(W.jsx)(l.b,{path:"".concat(e,"/"),exact:!0,children:Object(W.jsx)(Yt,{})}),Object(W.jsx)(l.b,{path:"".concat(e,"/orders"),exact:!0,children:Object(W.jsx)(nn,{})})]})})]})})),cn=n(65),an=n.n(cn),sn=function(){var e=Object(l.g)();return Object(W.jsxs)("div",{className:an.a.page,children:[Object(W.jsx)("h3",{className:"text text_type_main-medium mb-6",children:"404"}),Object(W.jsx)("h3",{className:"text text_type_main-medium mb-10",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(W.jsx)(b.Button,{onClick:function(){e.goBack()},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e"}),Object(W.jsxs)("div",{className:"".concat(an.a.links," mt-6"),children:[Object(W.jsx)("p",{className:"text text_type_main-default mr-2",children:"\u0438\u043b\u0438 \u043d\u0430"}),Object(W.jsx)(s.b,{to:"/",className:"".concat(an.a.link," text text_type_main-default"),children:"\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})]})},on=n(23),ln=n.n(on),dn=function(){var e=!!Object(l.j)({path:"/",exact:!0}),t=!!Object(l.j)("/feed"),n=!!Object(l.j)("/profile");return Object(W.jsx)("header",{className:ln.a.header,children:Object(W.jsx)("div",{className:"".concat(ln.a.container," pt-4 pb-4"),children:Object(W.jsxs)("nav",{className:ln.a.nav,children:[Object(W.jsxs)(s.c,{exact:!0,to:"/",activeClassName:ln.a.link_active,className:"".concat(ln.a.link," pt-4 pr-5 pb-4 pl-5 mr-2"),children:[Object(W.jsx)(b.BurgerIcon,{type:e?"primary":"secondary"}),Object(W.jsx)("span",{className:"text text_type_main-default ml-2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(W.jsxs)(s.c,{exact:!0,to:"/feed",activeClassName:ln.a.link_active,className:"".concat(ln.a.link," pt-4 pr-5 pb-4 pl-5"),children:[Object(W.jsx)(b.ListIcon,{type:t?"primary":"secondary"}),Object(W.jsx)("span",{className:"text text_type_main-default ml-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(W.jsx)(s.b,{to:"/",className:ln.a.logo,children:Object(W.jsx)(b.Logo,{})}),Object(W.jsxs)(s.c,{to:"/profile",activeClassName:ln.a.link_active,className:"".concat(ln.a.profile," ").concat(ln.a.link," pt-4 pr-5 pb-4 pl-5"),children:[Object(W.jsx)(b.ProfileIcon,{type:n?"primary":"secondary"}),Object(W.jsx)("span",{className:"text text_type_main-default ml-2",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})})},un=n(128),jn=["children"],mn=function(e){var t=e.children,n=Object(un.a)(e,jn),r=u((function(e){return e.auth})),c=r.isAuthorized;return Object(W.jsx)(l.b,Object(G.a)(Object(G.a)({},n),{},{render:function(e){var n=e.location;return c?t:Object(W.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))},_n=n(129),bn=n.n(_n),On=function(){return Object(W.jsx)("div",{className:bn.a.loader})},xn=n(130),pn=n.n(xn),fn=n.p+"static/media/done.49cd3906.png",hn=function(){var e=u((function(e){return e.order})),t=e.number;return Object(W.jsxs)("div",{className:pn.a.order,children:[Object(W.jsx)("p",{className:"text text_type_digits-large mt-4 mb-8",id:"order-number",children:Number(t)>0?t:"-"}),Object(W.jsx)("p",{className:"text text_type_main-medium mb-15",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),0===Number(t)?Object(W.jsx)(On,{}):Object(W.jsx)("img",{className:"mb-15",src:fn,alt:"\u0418\u043a\u043e\u043d\u043a\u0430",width:"120px",height:"120px"}),Object(W.jsx)("p",{className:"text text_type_main-default mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(W.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-15",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},vn=n(131),gn=n.n(vn),yn=function(e){var t=e.onClose;return Object(W.jsx)("div",{className:gn.a.container,onClick:t,id:"modal-overlay"})},Nn=n(51),En=n.n(Nn),Sn=function(e){var t=e.title,n=e.children,c=Object(l.g)(),a=document.querySelector("#modals"),s=function(e){null===e||void 0===e||e.stopPropagation(),c.goBack()};return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&s(e)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),i.a.createPortal(Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(yn,{onClose:s}),Object(W.jsxs)("div",{className:En.a.modal,id:"modal",children:[Object(W.jsxs)("div",{className:En.a["modal__title-wrap"],children:[Object(W.jsx)("h3",{className:"".concat(En.a.modal__title," text text_type_main-large"),children:t}),Object(W.jsx)("span",{className:En.a.modal__close,onClick:s,id:"modal-close",children:Object(W.jsx)(b.CloseIcon,{type:"primary"})})]}),n]})]}),a)},In=n(132),kn=n.n(In),Tn=function(e){var t=e.children;return Object(W.jsx)("main",{className:kn.a.container,children:t})},Cn=function(){var e=Object(l.g)(),t=Object(l.h)(),n=d(),c=("PUSH"===e.action||"REPLACE"===e.action)&&t.state&&t.state.background;return Object(r.useEffect)((function(){n(P())}),[n]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(dn,{}),Object(W.jsx)(Tn,{children:Object(W.jsxs)(l.d,{location:c||t,children:[Object(W.jsx)(l.b,{path:"/404",exact:!0,children:Object(W.jsx)(sn,{})}),Object(W.jsx)(l.b,{path:"/login",exact:!0,children:Object(W.jsx)(Dt,{})}),Object(W.jsx)(l.b,{path:"/register",exact:!0,children:Object(W.jsx)(qt,{})}),Object(W.jsx)(l.b,{path:"/forgot-password",exact:!0,children:Object(W.jsx)(Jt,{})}),Object(W.jsx)(l.b,{path:"/reset-password",exact:!0,children:Object(W.jsx)(Zt,{})}),Object(W.jsx)(l.b,{path:"/",exact:!0,children:Object(W.jsx)(ge,{})}),Object(W.jsx)(l.b,{path:"/ingredients/:ingredientId",exact:!0,children:Object(W.jsx)(ke,{})}),Object(W.jsx)(l.b,{path:"/feed",exact:!0,children:Object(W.jsx)(Ye,{})}),Object(W.jsx)(l.b,{path:"/feed/:orderId",exact:!0,children:Object(W.jsx)(zt,{isUserOrder:!1})}),Object(W.jsx)(mn,{path:"/profile/orders/:orderId",exact:!0,children:Object(W.jsx)(zt,{isUserOrder:!0})}),Object(W.jsx)(mn,{path:"/profile",children:Object(W.jsx)(rn,{})}),Object(W.jsx)(l.b,{path:"*",children:Object(W.jsx)(sn,{})})]})}),c&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(mn,{path:"/create-order",children:Object(W.jsx)(Sn,{children:Object(W.jsx)(hn,{})})}),Object(W.jsx)(l.b,{path:"/ingredients/:ingredientId",children:Object(W.jsx)(Sn,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",children:Object(W.jsx)(Ee,{})})}),Object(W.jsx)(l.b,{path:"/feed/:orderId",children:Object(W.jsx)(Sn,{children:Object(W.jsx)(Ft,{})})}),Object(W.jsx)(mn,{path:"/profile/orders/:orderId",children:Object(W.jsx)(Sn,{children:Object(W.jsx)(Ft,{})})})]})]})},wn=n(133),Rn=n(29),Ln=n(27),Dn={ingredients:[],isLoading:!1,isError:!1},An={bun:null,filling:[]},Un={ingredient:null},Fn={number:0,ingredients:[],isLoading:!1,isError:!1,order:null},Pn={user:null,error:null,isLoading:!1,isError:!1,isAuthorized:Boolean(localStorage.getItem("accessToken")),isReset:!1},Gn={orders:[],total:0,totalToday:0,wsConnected:!1,wsError:!1},zn=Object(Rn.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case it:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!1,error:null,user:t.user,isAuthorized:!0});case st:return Object(G.a)(Object(G.a)({},e),{},{user:null,error:t.error,isLoading:!1,isError:!0,isAuthorized:!1});case ot:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case lt:return Object(G.a)(Object(G.a)({},e),{},{user:null,isLoading:!1,isError:!1,isAuthorized:!1});case dt:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!0});case ut:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case jt:return Object(G.a)(Object(G.a)({},e),{},{error:null,user:t.user,isLoading:!1,isError:!1,isAuthorized:!0});case mt:return Object(G.a)(Object(G.a)({},e),{},{error:t.error,isLoading:!1,isError:!0,isAuthorized:!1});case xt:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case pt:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!1,isReset:!0});case ft:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!0});case ht:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case vt:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!1,isReset:!1});case gt:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!0});case _t:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case bt:return Object(G.a)(Object(G.a)({},e),{},{error:null,user:t.user,isLoading:!1,isError:!1,isAuthorized:!0});case Ot:return Object(G.a)(Object(G.a)({},e),{},{error:t.error,isLoading:!1,isError:!0});case yt:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case Nt:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!1,isAuthorized:!0});case Et:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!0});default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case R:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!1,ingredients:Object(Ln.a)(t.ingredients).map((function(e){return Object(G.a)(Object(G.a)({},e),{},{qty:0})}))});case L:return Object(G.a)(Object(G.a)({},e),{},{ingredients:[],isLoading:!1,isError:!0});case D:return Object(G.a)(Object(G.a)({},e),{},{ingredients:Object(Ln.a)(e.ingredients).map((function(e){var n=e.qty?e.qty:0;return e._id===t.id?Object(G.a)(Object(G.a)({},e),{},{qty:n+t.qty}):e}))});case A:return Object(G.a)(Object(G.a)({},e),{},{ingredients:Object(Ln.a)(e.ingredients).map((function(e){var n=e.qty?e.qty:0;return e._id===t.id?Object(G.a)(Object(G.a)({},e),{},{qty:n-t.qty}):e}))});case U:return Object(G.a)(Object(G.a)({},e),{},{ingredients:Object(Ln.a)(e.ingredients).map((function(e){return"bun"===e.type?Object(G.a)(Object(G.a)({},e),{},{qty:0}):e}))});case F:return Object(G.a)(Object(G.a)({},e),{},{ingredients:Object(Ln.a)(e.ingredients).map((function(e){return e.qty?Object(G.a)(Object(G.a)({},e),{},{qty:0}):e}))});default:return e}},burger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(G.a)(Object(G.a)({},e),{},{bun:t.bun});case ee:return Object(G.a)(Object(G.a)({},e),{},{bun:null});case te:return Object(G.a)(Object(G.a)({},e),{},{filling:[].concat(Object(Ln.a)(e.filling),[Object(G.a)(Object(G.a)({},t.item),{},{uuid:(new Date).getTime()+t.item._id})])});case ne:return Object(G.a)(Object(G.a)({},e),{},{filling:Object(Ln.a)(e.filling).filter((function(e){return e.uuid!==t.id}))});case re:var n=Object(Ln.a)(e.filling),r=n[t.dragIndex],c=n[t.hoverIndex];return n[t.hoverIndex]=r,n[t.dragIndex]=c,Object(G.a)(Object(G.a)({},e),{},{filling:n});case ce:return An;default:return e}},ingredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0;return t.type===M?Object(G.a)(Object(G.a)({},e),{},{ingredient:t.ingredient}):e},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!0});case je:return Object(G.a)(Object(G.a)({},e),{},{isLoading:!1,isError:!1,ingredients:[],number:t.number});case me:return Object(G.a)(Object(G.a)({},e),{},{ingredients:[],isLoading:!1,isError:!0});case be:return Object(G.a)(Object(G.a)({},e),{},{ingredients:t.order});case _e:return Object(G.a)(Object(G.a)({},e),{},{number:0});case Oe:return Object(G.a)(Object(G.a)({},e),{},{order:t.order});default:return e}},ordersFeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:case Ce:return Object(G.a)(Object(G.a)({},e),{},{wsConnected:!0});case we:return Object(G.a)(Object(G.a)({},e),{},{orders:[],total:0,totalToday:0,wsConnected:!1,wsError:!0});case Re:return Object(G.a)(Object(G.a)({},e),{},{orders:[],total:0,totalToday:0,wsConnected:!1,wsError:!1});case Le:return Object(G.a)(Object(G.a)({},e),{},{orders:t.payload.orders,total:t.payload.total,totalToday:t.payload.totalToday,wsConnected:!0,wsError:!1});default:return e}}}),Mn={onInit:Te,onOpen:Ce,onClose:Re,onError:we,onMessage:Le},Bn=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Rn.c)(Object(Rn.a)(wn.a,function(e,t){return function(n){var r=null;return function(c){return function(a){var i,s=n.dispatch,o=a.type,l=a.payload,d=t.onInit,u=t.onOpen,j=t.onClose,m=t.onError,_=t.onMessage;(o===d&&(r=new WebSocket("".concat(e,"/").concat(l))),r)&&(r.onopen=function(){s({type:u})},r.onerror=function(){s({type:m})},r.onmessage=function(e){var t=e.data;s({type:_,payload:JSON.parse(t)})},r.onclose=function(){s({type:j})},o===j&&(null===(i=r)||void 0===i||i.close()));c(a)}}}}("wss://norma.nomoreparties.space",Mn))),qn=Object(Rn.d)(zn,Bn);i.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(o.a,{store:qn,children:Object(W.jsx)(s.a,{children:Object(W.jsx)(Cn,{})})})}),document.getElementById("root"))},26:function(e,t,n){e.exports={feed:"styles_feed__3bZQY",title:"styles_title__2qnXN",status:"styles_status__2Ay_y",status_done:"styles_status_done__3tOTl",ingredients:"styles_ingredients__2jB0A",ingredient:"styles_ingredient__1F8Z0",ingredient__info:"styles_ingredient__info__2y6c1",ingredient__price:"styles_ingredient__price__2u5xp",feed__footer:"styles_feed__footer__2z0Zh"}},30:function(e,t,n){e.exports={constructor:"styles_constructor__26Ruh",constructor__items:"styles_constructor__items__oqI5O",constructor__item:"styles_constructor__item__3bOPO","constructor__items-inner":"styles_constructor__items-inner__jMXpJ",constructor__bottom:"styles_constructor__bottom__39hmg"}},31:function(e,t,n){e.exports={ingredient:"styles_ingredient__2Csxg",ingredient__items:"styles_ingredient__items__Wk446",ingredient__item:"styles_ingredient__item__z0vJ2"}},36:function(e,t,n){e.exports={order:"styles_order__33EZ3",info:"styles_info__186UM",status:"styles_status__14MsC",status_done:"styles_status_done__2GcfL",details:"styles_details__1ayNZ",price:"styles_price__3g_OW"}},37:function(e,t,n){e.exports={summary:"styles_summary__x9d8Y",orders:"styles_orders__2JrfO","orders-in-progress":"styles_orders-in-progress__3gvz0","orders-in-done":"styles_orders-in-done__3jEIf","text-shadow":"styles_text-shadow__RgSSF"}},38:function(e,t,n){e.exports={page:"styles_page__T5qNp",links:"styles_links__2bIPr",link:"styles_link__HD4ft",error:"styles_error__31YjW"}},41:function(e,t,n){e.exports={avatars:"styles_avatars__3jzIL","avatar-wrap":"styles_avatar-wrap__22Pne",bg:"styles_bg__1uJ_T",more:"styles_more__3qdtA"}},49:function(e,t,n){e.exports={card:"styles_card__2jjAO",card__img:"styles_card__img__1OPS4",card__price:"styles_card__price__3H6k9",card__title:"styles_card__title__31sml"}},50:function(e,t,n){e.exports={page:"styles_page__PEMoi",links:"styles_links__DziDP",link:"styles_link__3FGkI",error:"styles_error__3Pac9"}},51:function(e,t,n){e.exports={modal:"styles_modal__23SHU","modal__title-wrap":"styles_modal__title-wrap__2o9RA",modal__title:"styles_modal__title__3hypv",modal__close:"styles_modal__close__2cqmL"}},62:function(e,t,n){e.exports={ingredients:"styles_ingredients__3iuT7",ingredients__tabs:"styles_ingredients__tabs__2csfV",ingredients__content:"styles_ingredients__content__22zrj"}},63:function(e,t,n){e.exports={page:"styles_page__93Sv-",links:"styles_links__2-zxk",link:"styles_link__2GR4I"}},64:function(e,t,n){e.exports={page:"styles_page__Jxz20",links:"styles_links__3INvR",link:"styles_link__1GNvX"}},65:function(e,t,n){e.exports={page:"styles_page__1boAN",links:"styles_links__26Owf",link:"styles_link__afY1F"}},90:function(e,t,n){e.exports={avatar:"styles_avatar__1OtWK",img:"styles_img__j8jMD"}}},[[232,1,2]]]);
//# sourceMappingURL=main.ed6c4837.chunk.js.map